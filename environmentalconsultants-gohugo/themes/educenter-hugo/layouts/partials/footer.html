<!-- footer -->
<footer>
  <!-- newsletter -->
  {{ if site.Params.subscription.enable }}
  {{ with site.Params.subscription }}
  <div class="newsletter">
    <div class="container">
      <div class="row">
        <div class="col-md-9 ml-auto bg-primary py-5 newsletter-block">
          <h3 class="text-white mb-4">{{ i18n "subscribe_newsletter" }}</h3>
          <form action="{{ .mailchimp_form_action }}" method="post" name="mc-embedded-subscribe-form" target="_blank">
            <div class="input-wrapper">
              <input type="email" class="form-control border-0" id="newsletter" name="newsletter" placeholder="{{ i18n "enter_email" }}">
              <button type="submit" name="subscribe" class="btn btn-primary">{{ i18n "join" }}</button>
              <div style="position: absolute; left: -5000px;" aria-hidden="true">
                <input type="text" name="{{ .mailchimp_form_name }}" tabindex="-1">
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
  {{ end }}
  {{ end }}
  <!-- footer content -->
  <div class="footer bg-footer section border-bottom">
    <div class="container">
      <div class="row">
       
        <!-- services -->
        <div class="col-lg-4 col-sm-4 col-6 mb-5 mb-md-0">
          <h4 class="text-white mb-5 text-uppercase">{{ i18n "services" }}</h4>
          <ul class="list-unstyled">
            {{ range site.Menus.footerservices }}
            {{ if not .HasChildren }}
            <li class="mb-3"><a class="text-color" href="{{ .URL | absLangURL }}">{{ .Name }}</a></li>
            {{ end }}
            {{ end }}
          </ul>
        </div>
     
        <!-- info -->
        <div class="col-lg-2 col-sm-4 col-6 mb-5 mb-md-0">
          <h4 class="text-white mb-5 text-uppercase">{{ i18n "info" }}</h4>
          <ul class="list-unstyled">
            {{ range site.Menus.footerinfo }}
            <li class="mb-3"><a class="text-color" href="{{ .URL | absLangURL }}">{{ .Name }}</a></li>
            {{ end }}
          </ul>
        </div>

        <!-- links -->
        <div class="col-lg-2 col-sm-4 col-6 mb-5 mb-md-0">
            <h4 class="text-white mb-5 text-uppercase">{{ i18n "links" }}</h4>
            <ul class="list-unstyled">
              {{ range site.Menus.footer }}
              <li class="mb-3"><a class="text-color" href="{{ .URL | absLangURL }}">{{ .Name }}</a></li>
              {{ end }}
            </ul>
        </div>

        <div class="col-lg-4 col-sm-8 mb-5 mb-lg-0">
          <!-- logo -->
          <a class="logo-footer" href="{{ site.BaseURL | relLangURL }}"><img class="img-fluid mb-4" src="{{ site.Params.footerlogo | absURL }}" alt="{{ site.Title }}"></a>
          <ul class="list-unstyled">
            <li class="mb-4">{{ site.Params.mobile | markdownify }}</li>
            <li class="mb-4">{{ site.Params.email }}</li>
            <li class="mb-4">{{ site.Params.address | markdownify }}</li>
          </ul>
        </div>
      </div>
    </div>
  </div>
  <!-- copyright -->
  <div class="copyright py-4 bg-footer">
    <div class="container">
      <div class="row">
        <div class="col-md-7 text-md-left text-center">
          <p class="mb-3 mb-md-0">{{ site.Params.copyright | markdownify }}</p>
        </div>
        <div class="col-md-5 text-md-right text-center">
          <ul class="list-inline">
            {{ range site.Params.social }}
            <li class="list-inline-item"><a class="d-inline-block p-2" href="{{ .link | safeURL }}"><i class="{{ .icon }} text-primary"></i></a></li>
            {{ end }}
          </ul>
        </div>
      </div>
    </div>
  </div>
</footer>
<!-- /footer -->

{{ "<!-- Google Map API -->" | safeHTML }}
{{ with site.Params.map.gmap_api }}
<script src="{{ . | safeURL }}"></script>
{{ end }}

{{ "<!-- JS Plugins -->" | safeHTML }}
{{ range site.Params.plugins.js}}
<script src="{{ .link | absURL }}"></script>
{{ end }}

<!-- Google Recaptcha -->
<script src="https://www.google.com/recaptcha/api.js?render={{ site.Params.reCAPTCHA_site_key }}"></script>

{{ "<!-- Main Script -->" | safeHTML }}
{{ $script := resources.Get "js/script.js"}}
<script src="{{ $script.Permalink }}"></script>

{{ "<!-- google analitycs -->" | safeHTML }}
{{ with site.Params.google_analitycs_id}}
<script>
  (function (i, s, o, g, r, a, m) {
    i['GoogleAnalyticsObject'] = r;
    i[r] = i[r] || function () {
      (i[r].q = i[r].q || []).push(arguments)
    }, i[r].l = 1 * new Date();
    a = s.createElement(o),
      m = s.getElementsByTagName(o)[0];
    a.async = 1;
    a.src = g;
    m.parentNode.insertBefore(a, m)
  })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
  ga('create', '{{ . }}', 'auto');
  ga('send', 'pageview');
</script>
{{ end }}

<!-- cookie -->
{{ if site.Params.cookies.enable }}
<script src="https://cdnjs.cloudflare.com/ajax/libs/js-cookie/2.2.1/js.cookie.min.js"></script>
<div id="js-cookie-box" class="cookie-box cookie-box-hide">
	This site uses cookies. By continuing to use this website, you agree to their use. <span id="js-cookie-button" class="btn btn-sm btn-outline-primary ml-2">I Accept</span>
</div>
<script>
	(function ($) {
		const cookieBox = document.getElementById('js-cookie-box');
		const cookieButton = document.getElementById('js-cookie-button');
		if (!Cookies.get('cookie-box')) {
			cookieBox.classList.remove('cookie-box-hide');
			cookieButton.onclick = function () {
				Cookies.set('cookie-box', true, {
					expires: {{ site.Params.cookies.expire_days }}
				});
				cookieBox.classList.add('cookie-box-hide');
			};
		}
	})(jQuery);
</script>

<!-- cookie style -->
<style>
.cookie-box {
  position: fixed;
  left: 0;
  right: 0;
  bottom: 0;
  text-align: center;
  z-index: 9999;
  padding: 1rem 2rem;
  background: rgb(71, 71, 71);
  transition: all .75s cubic-bezier(.19, 1, .22, 1);
  color: #fdfdfd;
}

.cookie-box-hide {
  display: none;
}
</style>
{{ end }}


<style>
  #spinner {
    width: 100px;
    height: 100px;
    display: flex;
    flex-wrap: wrap;
    border-radius: 50%;
    overflow: hidden;
    animation: example 1s infinite;
    position: relative;
    justify-content: center;
    align-items: center;
  }
  
  @keyframes example {
    from {transform: rotate(0deg)}
    to {transform: rotate(360deg)}
  }
  </style>
  
  <script>
  $().ready(function () {
    $("form#contact-us").validate({
          rules: {
            name: {
              required: true,
              minlength: 2
            },
            mail: {
              required: true,
              email: true
            },
            number: {
              required: true,
              minlength: 8
            },
            message: {
              required: true,
              minlength: 10
            }
          },
          messages: {
            name: {
              required: "Please enter a name",
              minlength: "Your name must consist of at least 2 characters"
            },
            email: "Please enter a valid email address",
            number: {
              required: "Please enter a phone number",
              minlength: "Your phone number must consist of at least 10 characters"
            },
            message: {
              required: "Please enter a message",
              minlength: "Your message must consist of at least 10 characters"
            },
          },
          submitHandler: function (form) { // for demo
            alert('valid form');
            form.submit();
          }
        });
  });
  
  async function onSubmit(token) {
      var data = getFormData($('form#contact-us'));
      data["token"] = token;
  
      if(data["surname"] != "") 
        return false;
  
      if(!$("#contact-us").valid()) 
        return false;
  
      var settings = {
          "url": "{{ site.Params.contact_form_actionv2 }}",
          "method": "POST",
          "timeout": 0,
          "data": JSON.stringify(data),
          beforeSend: function(){
              $('#spinner').prop('hidden', false);
              $('#submitButton').prop("disabled", true);
          },
          complete: function(){
              $('#spinner').prop('hidden', true);
          }
      };
  
      $.ajax(settings).done(function (response) {
        $('#form-message').text('Message received. Thank you, ' + response.first_name);
        $('#form-message').removeAttr('hidden');
      }).fail(function(response) {
        $('#form-message').text('An error occured');
        $('#form-message').removeAttr('hidden');
      });
  }
  
  function getFormData($form){
      var unindexed_array = $form.serializeArray();
      var indexed_array = {};
  
      $.map(unindexed_array, function(n, i){
          indexed_array[n['name']] = n['value'];
      });
  
      return indexed_array;
  }
  
  </script>